import spacy

# Load spaCy English model with NER + POS
nlp = spacy.load("en_core_web_sm")

text = "Chris met Alex at Apple headquarters in California. He told him about the new iPhone launch."

# Process text
doc = nlp(text)

# 1. --- Named Entity Recognition ---
print("Named Entities:")
for ent in doc.ents:
    print(f"{ent.text}  -->  {ent.label_}")

# 2. --- Pronoun Ambiguity Detection ---
pronouns = {"he", "she", "they", "him", "her", "them"}
tokens_lower = {token.text.lower() for token in doc}

if pronouns.intersection(tokens_lower):
    print("\nWarning: Possible pronoun ambiguity detected!")
